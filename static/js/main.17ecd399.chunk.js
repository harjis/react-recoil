(this["webpackJsonpreact-recoil"]=this["webpackJsonpreact-recoil"]||[]).push([[0],{20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n(2),r=n.n(c),i=n(9),u=n.n(i),a=(n(20),n(5)),l=n(4),d=n(0),s=Object(a.b)({key:"todoIdsState",default:[]}),j=Object(a.c)({key:"todo",default:null}),f=Object(a.c)({key:"todoState",default:Object(a.e)({key:"todoState/default",get:function(t){return function(e){var n=(0,e.get)(j(t));if(null===n)throw new Error("Fatal error: Todo with id ".concat(t," was not found"));return n}},set:function(t){return function(e,n){return(0,e.set)(j(t),n)}}})}),b=Object(a.b)({key:"todoListFilterState",default:"Show All"}),O=function(t){var e=t.todoId,n=t.removeTodo,c=function(t){var e=Object(a.g)(f(t)),n=Object(d.a)(e,2),o=n[0],c=n[1];return{todo:o,editItemText:function(t){var e=t.currentTarget.value;c((function(t){return Object(l.a)(Object(l.a)({},t),{},{text:e})}))},toggleItemCompletion:function(){c((function(t){return Object(l.a)(Object(l.a)({},t),{},{isComplete:!t.isComplete})}))}}}(e),r=c.todo,i=c.editItemText,u=c.toggleItemCompletion;return Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",value:r.text,onChange:i}),Object(o.jsx)("input",{type:"checkbox",checked:r.isComplete,onChange:u}),Object(o.jsx)("button",{onClick:function(){n(r.id)},children:"X"})]})},m=function(t){var e=Object(c.useState)(""),n=Object(d.a)(e,2),r=n[0],i=n[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",value:r,onChange:function(t){var e=t.currentTarget.value;i(e)}}),Object(o.jsx)("button",{onClick:function(){t.addTodo(r),i("")},children:"Add"})]})},h=function(){var t=Object(a.g)(b),e=Object(d.a)(t,2),n=e[0],c=e[1];return Object(o.jsxs)(o.Fragment,{children:["Filter:",Object(o.jsxs)("select",{value:n,onChange:function(t){var e=t.currentTarget.value;c(e)},children:[Object(o.jsx)("option",{value:"Show All",children:"All"}),Object(o.jsx)("option",{value:"Show Completed",children:"Completed"}),Object(o.jsx)("option",{value:"Show Uncompleted",children:"Uncompleted"})]})]})},p=Object(a.d)({key:"filteredTodoListState",get:function(t){var e=t.get,n=e(b),o=e(s);switch(n){case"Show Completed":return o.filter((function(t){return e(f(t)).isComplete}));case"Show Uncompleted":return o.filter((function(t){return!e(f(t)).isComplete}));default:return o}}}),v=Object(a.d)({key:"todoListStatsState",get:function(t){var e=t.get,n=e(s),o=n.length,c=n.filter((function(t){return e(f(t)).isComplete})).length;return{totalNum:o,totalCompletedNum:c,totalUncompletedNum:o-c,percentCompleted:0===o?0:c/o}}}),x=function(){var t=Object(a.h)(v),e=t.totalNum,n=t.totalCompletedNum,c=t.totalUncompletedNum,r=t.percentCompleted,i=Math.round(100*r);return Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["Total items: ",e]}),Object(o.jsxs)("li",{children:["Items completed: ",n]}),Object(o.jsxs)("li",{children:["Items not completed: ",c]}),Object(o.jsxs)("li",{children:["Percent completed: ",i]})]})},g=n(6),C=n.n(g),T=n(3),S=n(13),w=1;function k(){return w++}var y=[k(),k(),k(),k(),k()].reduce((function(t,e){return t.concat({id:e,text:"Todo ".concat(e),isComplete:!1})}),[]),I=function(){var t=function(){var t=Object(a.g)(s),e=Object(d.a)(t,2),n=e[0],o=e[1],c=Object(a.f)((function(t){var e=t.set;return Object(S.a)(C.a.mark((function t(){var n,o,c,r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){return t(y)}),1e3)}));case 2:n=t.sent,o=[],c=Object(T.a)(n);try{for(c.s();!(r=c.n()).done;)i=r.value,o.push(i.id),e(f(i.id),i)}catch(u){c.e(u)}finally{c.f()}e(s,o);case 7:case"end":return t.stop()}}),t)})))}),[]);r.a.useEffect((function(){c()}),[c]);var i=Object(a.f)((function(t){var e=t.set;return function(t){var n=k();o((function(t){return t.concat(n)})),e(f(n),{id:n,text:t,isComplete:!1})}}),[]);return{filteredTodoIds:Object(a.h)(p),addTodo:i,removeTodo:function(t){o(n.filter((function(e){return e!==t})))}}}(),e=t.filteredTodoIds,n=t.addTodo,c=t.removeTodo;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x,{}),Object(o.jsx)(h,{}),Object(o.jsx)(m,{addTodo:n}),e.map((function(t){return Object(o.jsx)(O,{todoId:t,removeTodo:c},t)}))]})},F=function(){return Object(o.jsx)("div",{children:"Loading..."})};var L=function(){return Object(o.jsx)(a.a,{children:Object(o.jsx)(c.Suspense,{fallback:Object(o.jsx)(F,{}),children:Object(o.jsx)(I,{})})})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),r(t),i(t)}))};u.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(L,{})}),document.getElementById("root")),N()}},[[22,1,2]]]);
//# sourceMappingURL=main.17ecd399.chunk.js.map